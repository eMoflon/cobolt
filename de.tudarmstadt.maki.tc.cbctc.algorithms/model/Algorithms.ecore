<?xml version="1.0" encoding="ASCII"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:AttributeConstraints="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeConstraints" xmlns:activities="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//activities" xmlns:callExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:expressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions" xmlns:patternExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions" name="algorithms" nsURI="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.algorithms/model/Algorithms.ecore" nsPrefix="de.tudarmstadt.maki.tc.cbctc.algorithms">
  <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
    <details key="basePackage" value="de.tudarmstadt.maki.tc.cbctc"/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="KTCLink">
    <eSuperTypes href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="angle" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="distance" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="expectedLifetime" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="KTCNode">
    <eSuperTypes href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="hopCount" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NACFlag">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="matchFound" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="AbstractKTC" abstract="true" eSuperTypes="//DirectedTriangleTopologyControlAlgorithm">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="k" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DirectedTriangleTopologyControlAlgorithm" abstract="true" eSuperTypes="//AbstractTopologyControlAlgorithm">
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnTopology">
      <eParameters name="topology" eType="//Topology"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/runOnTopology">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.5" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.4" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckForUnclassifiedLinks" comment="CheckForUnclassifiedLinks" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.0 //DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.6">
          <storyPattern comment="CheckForUnclassifiedLinks">
            <objectVariable type="//Topology" name="topology" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="unclassifiedLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
            <linkVariable name="edges" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/edges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverNodes" comment="IterateOverNodes" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.3 //DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.4" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.2 //DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.5" forEach="true">
          <storyPattern comment="IterateOverNodes">
            <objectVariable type="//Topology" name="topology" incomingLink="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0"/>
            <linkVariable name="graph" target="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/graph"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InvokeTCOnNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.5" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//AbstractTopologyControlAlgorithm/runOnNode">
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/runOnNode/node">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="EmptyNodeToAllowForCorrectLoopDetection" comment="EmptyNodeToAllowForCorrectLoopDetection" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.6" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.3">
          <storyPattern comment="EmptyNodeToAllowForCorrectLoopDetection"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnNodePreprocessing">
      <eParameters name="node" eType="//KTCNode"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatch" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="checkPredicate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="link12" eType="//KTCLink"/>
      <eParameters name="link13" eType="//KTCLink"/>
      <eParameters name="link32" eType="//KTCLink"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnNode">
      <eParameters name="node" eType="//KTCNode"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/runOnNode">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.9"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.7" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.7" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.6" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.7" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.8" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.9" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.8" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.9" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.11" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.14" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.12" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.13"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.13" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.14" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.12" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.14" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.15" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.15" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.13"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="SelectNextUnclassifiedLink" comment="SelectNextUnclassifiedLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.9 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.10">
          <storyPattern comment="SelectNextUnclassifiedLink">
            <objectVariable type="//KTCLink" name="unclassifiedLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThisAndCreateDummyLink" comment="BindThisAndCreateDummyLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.3" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThisAndCreateDummyLink">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="ActivateLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.4 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.5" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.8">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/activateLink">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/activateLink/link">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InactivateLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.6 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.7" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/inactivateLink">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/link">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="EliminateMatchesOfNACs" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.8" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/link">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="EmptyStoryNodeToAllowForCorrectLoopDetection" comment="EmptyStoryNodeToAllowForCorrectLoopDetection" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.9" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.5 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.6 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.7">
          <storyPattern comment="EmptyStoryNodeToAllowForCorrectLoopDetection"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="runPreprocessing" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.10" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.11">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/runOnNodePreprocessing">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/runOnNodePreprocessing/node">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/runOnNode/node"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckIfBatchModeSelected" comment="CheckIfBatchModeSelected" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.11 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.12" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.3">
          <storyPattern comment="CheckIfBatchModeSelected">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="TopologyControlOperationMode.BATCH"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.0" attribute="//AbstractTopologyControlAlgorithm/operationMode"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyUnclassifiedLink" comment="IdentifyUnclassifiedLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.13 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.14" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.12 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.16" forEach="true">
          <storyPattern comment="IdentifyUnclassifiedLink">
            <objectVariable type="//KTCNode" name="node" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="unclassifiedLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.13"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivateLink" comment="ActivateLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.15" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.17">
          <storyPattern comment="ActivateLink">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="EmptyJoinNode" comment="EmptyJoinNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.16" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.15 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.19">
          <storyPattern comment="EmptyJoinNode"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindMatchForPredicate" comment="FindMatchForPredicate" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.17 //DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.18" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.14">
          <storyPattern comment="FindMatchForPredicate">
            <objectVariable type="//DirectedTriangle" name="matchForTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatchBatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatchBatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatchBatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="InactivateLink" comment="InactivateLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.19" incoming="//DirectedTriangleTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.18">
          <storyPattern comment="InactivateLink">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="activateLink">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/activateLink">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.5"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindMatchForPredicate" comment="FindMatchForPredicate" outgoing="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.3">
          <storyPattern comment="FindMatchForPredicate">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThisAndCreateNACFlag" comment="BindThisAndCreateNACFlag" outgoing="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.3" incoming="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThisAndCreateNACFlag">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivateLink" comment="ActivateLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.4" incoming="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.2">
          <storyPattern comment="ActivateLink">
            <objectVariable type="//KTCLink" name="link" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/activateLink/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="inactivateLink">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/inactivateLink">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="InactivateLinkUnconditionally" comment="InactivateLinkUnconditionally" outgoing="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityEdge.0">
          <storyPattern comment="InactivateLinkUnconditionally">
            <objectVariable type="//KTCLink" name="link" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/inactivateLink/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="eliminateMatchesOfNACs">
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.4" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.7" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.7" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6" guard="FAILURE"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.7" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.8" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindTrianglesAsCandidatesForNAC1" comment="FindTrianglesAsCandidatesForNAC1" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.3 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.4 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="FindTrianglesAsCandidatesForNAC1">
            <objectVariable type="//KTCLink" name="link" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link23" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.3" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckPredicate" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.4 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.5" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/checkPredicate">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link12">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link13">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link32">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="UnclassifyLongestLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.6" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/unclassifiedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindTrianglesAsCandidatesForNAC2" comment="FindTrianglesAsCandidatesForNAC2" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.7 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.8" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.2 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.9 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.11" forEach="true">
          <storyPattern comment="FindTrianglesAsCandidatesForNAC2">
            <objectVariable type="//KTCLink" name="link" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.3 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node3_1" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3_2" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.3 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCNode" name="node3_3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link3_23" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.4">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.4">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link3_13" incomingLink="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.5">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.4" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.4" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5" source="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckPredicate" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.9 //DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.10" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.8">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/checkPredicate">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link12">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link13">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.4"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/checkPredicate/link32">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="UnclassifyLongestLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.11" incoming="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityEdge.10">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/unclassifiedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/eliminateMatchesOfNACs/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatchBatch" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="internalHandleLinkWeightModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="DelegateToHandleLinkDeletion" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/unclassifiedLink">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/link"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkWeightModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeAddition">
      <eParameters name="newNode" eType="//KTCNode"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="NothingToDo" comment="NothingToDo" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.0">
          <storyPattern comment="NothingToDo"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeDeletion">
      <eParameters name="removedNode" eType="//KTCNode"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.4" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.6" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.6" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllOutgoingLinks" comment="IterateOverAllOutgoingLinks" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.5 //DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="IterateOverAllOutgoingLinks">
            <objectVariable type="//KTCNode" name="removedNode" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="outgoingLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllIncomingLinks" comment="IterateOverAllIncomingLinks" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.3 //DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.4" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.7" forEach="true">
          <storyPattern comment="IterateOverAllIncomingLinks">
            <objectVariable type="//KTCNode" name="removedNode" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="incomingLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0"/>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="HandleLinkDeletionForOutgoingLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.5" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/removedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.6" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="HandleLinkDeletionForIncomingLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.7" incoming="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/removedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkDeletion">
      <eParameters name="removedLink" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Delegate" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/unclassifiedLink">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/removedLink"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkAddition">
      <eParameters name="newLink" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="SetUnclassified" comment="SetUnclassified" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.0">
          <storyPattern comment="SetUnclassified">
            <objectVariable type="//KTCLink" name="newLink" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkUnclassification">
      <eParameters name="unclassifiedLink" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.8" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.9" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.6" guard="END"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.10" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.8" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.9" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.10" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.3 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.10" forEach="true">
          <storyPattern comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link1_31" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node1_3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1"/>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Recurse" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.3" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/excludedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.4 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.5" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.1 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.11" forEach="true">
          <storyPattern comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link2_31" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node2_3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1"/>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.6 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.7" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.4 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.12" forEach="true">
          <storyPattern comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link3_23" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node3_3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1"/>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.8 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.9" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.6 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.13" forEach="true">
          <storyPattern comment="IterateOverAllTrianglesWhereNewLinkIsOnTopRight">
            <objectVariable type="//KTCLink" name="unclassifiedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link4_32" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node4_3" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0"/>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.8"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="UnclassifyLink" comment="UnclassifyLink" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.10" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="UnclassifyLink">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="unclassifiedLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1"/>
            <linkVariable name="incomingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Recurse" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.11" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/excludedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Recurse" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.12" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.7">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/excludedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Recurse" outgoing="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.13" incoming="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.9">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/excludedLink">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="unclassifyLinkIfNoExtensionToConclusionMatchExists">
      <eParameters name="inactiveLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.2" target="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.5" target="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Recurse" outgoing="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/handleLinkUnclassification/unclassifiedLink">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindTriangle" comment="FindTriangle" outgoing="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.3 //DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.4" incoming="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityEdge.2">
          <storyPattern comment="FindTriangle">
            <objectVariable type="//DirectedTriangle" name="matchTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/inactiveLink"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/excludedLink"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/unclassifyLinkIfNoExtensionToConclusionMatchExists/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="createdDirectedTriangle" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="indirectionLink1" eType="//KTCLink"/>
      <eParameters name="indirectionLink2" eType="//KTCLink"/>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateTriangle" comment="CreateTriangle" outgoing="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateTriangle">
            <objectVariable type="//DirectedTriangle" name="triangle" outgoingLink="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingOperator="CREATE"/>
            <objectVariable type="//KTCLink" name="directLink" incomingLink="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="indirectionLink1" incomingLink="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="indirectionLink2" incomingLink="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingState="BOUND"/>
            <linkVariable name="directLink" target="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//DirectedTriangle/directLink" bindingOperator="CREATE"/>
            <linkVariable name="indirectionLink1" target="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//DirectedTriangle/indirectionLink1" bindingOperator="CREATE"/>
            <linkVariable name="indirectionLink2" target="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//DirectedTriangle/indirectionLink2" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="internalHandleLinkExpectedLifetimeModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification">
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.0" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.3" target="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.1" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThis">
            <objectVariable type="//DirectedTriangleTopologyControlAlgorithm" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="DelegateToHandleLinkDeletion" outgoing="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.2" incoming="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//AbstractTopologyControlAlgorithm/handleLinkUnclassification">
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/link">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/link"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DirectedTriangleTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PlainKTC" eSuperTypes="//AbstractKTC //WeightBasedAlgorithm">
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatch" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//PlainKTC/findMatch">
        <ownedActivityEdge source="//PlainKTC/findMatch/@activity/@ownedActivityNode.0" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//PlainKTC/findMatch/@activity/@ownedActivityNode.2" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTC/findMatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyDirectedTriangle" comment="IdentifyDirectedTriangle" outgoing="//PlainKTC/findMatch/@activity/@ownedActivityEdge.1 //PlainKTC/findMatch/@activity/@ownedActivityEdge.2" incoming="//PlainKTC/findMatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IdentifyDirectedTriangle">
            <objectVariable type="//KTCLink" name="excludedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="directLink" incomingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//PlainKTC" name="this" bindingState="BOUND"/>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="*"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name=">="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link13_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link32_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmin">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="directLink_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDirectedTriangle" comment="CreateDirectedTriangle" outgoing="//PlainKTC/findMatch/@activity/@ownedActivityEdge.3" incoming="//PlainKTC/findMatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateDirectedTriangle">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink1">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink2">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/findMatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/findMatch/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="initializeConstraints">
      <activity owningOperation="//PlainKTC/initializeConstraints">
        <ownedActivityEdge source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.0" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1" guard="END"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.1" incoming="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.2">
          <storyPattern comment="Init">
            <objectVariable type="//PlainKTC" name="this" incomingLink="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//PlainKTCActiveLinkConstraint" name="activeLinkConstraint" outgoingLink="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <attributeAssignment attribute="//KTCConstraint/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractKTC/k"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//PlainKTCInactiveLinkConstraint" name="inactiveLinkConstraint" outgoingLink="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <attributeAssignment attribute="//KTCConstraint/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractKTC/k"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="algorithm" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="CREATE"/>
            <linkVariable name="algorithm" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveConstraints" comment="RemoveConstraints" outgoing="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.2" incoming="//PlainKTC/initializeConstraints/@activity/@ownedActivityEdge.0" forEach="true">
          <storyPattern comment="RemoveConstraints">
            <objectVariable type="//PlainKTC" name="this" incomingLink="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//TopologyControlGraphConstraint" name="topologyControlGraphConstraint" outgoingLink="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingOperator="DESTROY"/>
            <linkVariable name="algorithm" target="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//PlainKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="checkPredicate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="maxLink" eType="//KTCLink"/>
      <eParameters name="otherLink1" eType="//KTCLink"/>
      <eParameters name="otherLink2" eType="//KTCLink"/>
      <activity owningOperation="//PlainKTC/checkPredicate">
        <ownedActivityEdge source="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.0" target="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1" target="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1" target="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTC/checkPredicate/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckPredicate" comment="CheckPredicate" outgoing="//PlainKTC/checkPredicate/@activity/@ownedActivityEdge.1 //PlainKTC/checkPredicate/@activity/@ownedActivityEdge.2" incoming="//PlainKTC/checkPredicate/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckPredicate">
            <objectVariable type="//KTCLink" name="maxLink" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="otherLink1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="otherLink2" bindingState="BOUND"/>
            <objectVariable type="//PlainKTC" name="this" bindingState="BOUND"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="*"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name=">="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="otherLink1_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="otherLink2_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmin">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//PlainKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="maxLink_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/checkPredicate/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/checkPredicate/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatchBatch" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//PlainKTC/findMatchBatch">
        <ownedActivityEdge source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.0" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.2" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyDirectedTriangle" comment="IdentifyDirectedTriangle" outgoing="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.1 //PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.2" incoming="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IdentifyDirectedTriangle">
            <objectVariable type="//KTCLink" name="excludedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="directLink" incomingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//PlainKTC" name="this" bindingState="BOUND"/>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="*"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name=">="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link13_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link32_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmin">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="directLink_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDirectedTriangle" comment="CreateDirectedTriangle" outgoing="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.3" incoming="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateDirectedTriangle">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink1">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink2">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTC/findMatchBatch/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTC/findMatchBatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="EnergyAwareKTC" eSuperTypes="//AbstractKTC //ExpectedLifetimeBasedAlgorithm">
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatch" eType="//DirectedTriangle">
      <eParameters name="link12" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//EnergyAwareKTC/findMatch">
        <ownedActivityEdge source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.0" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.2" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyDirectedTriangle" comment="IdentifyDirectedTriangle" outgoing="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.1 //EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IdentifyDirectedTriangle">
            <objectVariable type="//KTCLink" name="excludedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="link12" incomingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//EnergyAwareKTC" name="this" bindingState="BOUND"/>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="/"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3" name="&lt;"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name="&lt;="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link13_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link32_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmax">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="link12_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDirectedTriangle" comment="CreateDirectedTriangle" outgoing="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.3" incoming="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateDirectedTriangle">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink1">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink2">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/findMatch/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="initializeConstraints">
      <activity owningOperation="//EnergyAwareKTC/initializeConstraints">
        <ownedActivityEdge source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.0" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1" guard="END"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.1" incoming="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.2">
          <storyPattern comment="Init">
            <objectVariable type="//EnergyAwareKTC" name="this" incomingLink="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//EnergyAwareKTCActiveLinkConstraint" name="activeLinkConstraint" outgoingLink="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <attributeAssignment attribute="//KTCConstraint/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractKTC/k"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//EnergyAwareKTCInactiveLinkConstraint" name="inactiveLinkConstraint" outgoingLink="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <attributeAssignment attribute="//KTCConstraint/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractKTC/k"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="algorithm" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="CREATE"/>
            <linkVariable name="algorithm" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveConstraints" comment="RemoveConstraints" outgoing="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityEdge.0" forEach="true">
          <storyPattern comment="RemoveConstraints">
            <objectVariable type="//EnergyAwareKTC" name="this" incomingLink="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//TopologyControlGraphConstraint" name="topologyControlGraphConstraint" outgoingLink="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingOperator="DESTROY"/>
            <linkVariable name="algorithm" target="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//EnergyAwareKTC/initializeConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="checkPredicate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="link12" eType="//KTCLink"/>
      <eParameters name="link13" eType="//KTCLink"/>
      <eParameters name="link32" eType="//KTCLink"/>
      <activity owningOperation="//EnergyAwareKTC/checkPredicate">
        <ownedActivityEdge source="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.0" target="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckPredicate" comment="CheckPredicate" outgoing="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.1 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckPredicate">
            <objectVariable type="//KTCLink" name="link12" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link13" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link32" bindingState="BOUND"/>
            <objectVariable type="//EnergyAwareKTC" name="this" bindingState="BOUND"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="/"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.3" name="&lt;"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name="&lt;="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link13_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link32_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmax">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="link12_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/checkPredicate/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatchBatch" eType="//DirectedTriangle">
      <eParameters name="link12" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//EnergyAwareKTC/findMatchBatch">
        <ownedActivityEdge source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.0" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.2" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyDirectedTriangle" comment="IdentifyDirectedTriangle" outgoing="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.1 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IdentifyDirectedTriangle">
            <objectVariable type="//KTCLink" name="excludedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="link12" incomingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//EnergyAwareKTC" name="this" bindingState="BOUND"/>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="max"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name="min"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" name="/"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.5" objectVariable="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7" type="//AbstractKTC/k"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.3" name="&lt;"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6" objectVariable="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//KTCLink/expectedLifetime"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.6 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.4" name="&lt;="/>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="max">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link13_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link32_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6" name="min">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" name="kmax">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" attributeValueConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.5" name="this_k">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.6 //EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.8" attributeValueConstraints="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.7" name="link12_expectedLifetime">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDirectedTriangle" comment="CreateDirectedTriangle" outgoing="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.3" incoming="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateDirectedTriangle">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink1">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/createdDirectedTriangle/indirectionLink2">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.7"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTC/findMatchBatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Topology">
    <eSuperTypes href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph"/>
    <eOperations xsi:type="activities:MoflonEOperation" name="addKTCNode" eType="//KTCNode">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="remainingEnergy">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//Topology/addKTCNode">
        <ownedActivityEdge source="//Topology/addKTCNode/@activity/@ownedActivityNode.0" target="//Topology/addKTCNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/addKTCNode/@activity/@ownedActivityNode.1" target="//Topology/addKTCNode/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addKTCNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddNode" comment="AddNode" outgoing="//Topology/addKTCNode/@activity/@ownedActivityEdge.1" incoming="//Topology/addKTCNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="AddNode">
            <objectVariable type="//Topology" name="this" incomingLink="//Topology/addKTCNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="ktcNode" outgoingLink="//Topology/addKTCNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCNode/id"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//GraphElement/id"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCNode/remainingEnergy"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/energyLevel"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="graph" target="//Topology/addKTCNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/addKTCNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/graph"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addKTCNode/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addKTCNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addKTCLink" eType="//KTCLink">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="source" eType="//KTCNode"/>
      <eParameters name="target" eType="//KTCNode"/>
      <eParameters name="distance">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <eParameters name="requiredTransmissionPower">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <eParameters name="state">
        <eType xsi:type="ecore:EEnum" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//EdgeState"/>
      </eParameters>
      <activity owningOperation="//Topology/addKTCLink">
        <ownedActivityEdge source="//Topology/addKTCLink/@activity/@ownedActivityNode.0" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/addKTCLink/@activity/@ownedActivityNode.1" target="//Topology/addKTCLink/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addKTCLink/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddKTCLink" comment="AddKTCLink" outgoing="//Topology/addKTCLink/@activity/@ownedActivityEdge.1" incoming="//Topology/addKTCLink/@activity/@ownedActivityEdge.0">
          <storyPattern comment="AddKTCLink">
            <objectVariable type="//Topology" name="this" incomingLink="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" outgoingLink="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="source" outgoingLink="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="target" outgoingLink="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link" incomingLink="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4" bindingOperator="CREATE">
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink/id"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//GraphElement/id"/>
              </attributeAssignment>
              <attributeAssignment attribute="//KTCLink/expectedLifetime">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink/requiredTransmissionPower"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink/state"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink/distance"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="graph" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/graph"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="graph" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/graph"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="edges" target="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/edges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addKTCLink/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addKTCLink" eType="//KTCLink">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="source" eType="//KTCNode"/>
      <eParameters name="target" eType="//KTCNode"/>
      <eParameters name="distance">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <eParameters name="requiredTransmissionPower">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//Topology/addKTCLink.1">
        <ownedActivityEdge source="//Topology/addKTCLink.1/@activity/@ownedActivityNode.0" target="//Topology/addKTCLink.1/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/addKTCLink.1/@activity/@ownedActivityNode.1" target="//Topology/addKTCLink.1/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addKTCLink.1/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateUnclassifiedLink" comment="CreateUnclassifiedLink" outgoing="//Topology/addKTCLink.1/@activity/@ownedActivityEdge.1" incoming="//Topology/addKTCLink.1/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateUnclassifiedLink">
            <objectVariable type="//KTCLink" name="link" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addKTCLink">
                <ownedParameterBindings parameter="//Topology/addKTCLink/id">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink.1/id"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink/source">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink.1/source"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink/target">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink.1/target"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink/distance">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink.1/distance"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink/requiredTransmissionPower">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addKTCLink.1/requiredTransmissionPower"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink/state">
                  <valueExpression xsi:type="expressions:LiteralExpression" value="LinkState.UNCLASSIFIED"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addKTCLink.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addKTCLink.1/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addKTCLink.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addUndirectedKTCLink" eType="//KTCLink">
      <eParameters name="idFwd">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="idBwd">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="node1" eType="//KTCNode"/>
      <eParameters name="node2" eType="//KTCNode"/>
      <eParameters name="distance">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <eParameters name="requiredTransmissionPower">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//Topology/addUndirectedKTCLink">
        <ownedActivityEdge source="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.0" target="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1" target="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addUndirectedKTCLink/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Add links and connect them" comment="Add_links_and_connect_them" outgoing="//Topology/addUndirectedKTCLink/@activity/@ownedActivityEdge.1" incoming="//Topology/addUndirectedKTCLink/@activity/@ownedActivityEdge.0">
          <storyPattern comment="Add_links_and_connect_them">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="linkFwd" incomingLink="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" outgoingLink="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addKTCLink.1">
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/id">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/idFwd"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/source">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/node1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/target">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/node2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/distance">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/distance"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/requiredTransmissionPower">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/requiredTransmissionPower"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable type="//KTCLink" name="linkBwd" incomingLink="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" outgoingLink="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addKTCLink.1">
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/id">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/idBwd"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/source">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/node2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/target">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/node1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/distance">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/distance"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addKTCLink.1/requiredTransmissionPower">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedKTCLink/requiredTransmissionPower"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <linkVariable name="reverseEdge" target="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/reverseEdge"/>
            </linkVariable>
            <linkVariable name="reverseEdge" target="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/reverseEdge"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addUndirectedKTCLink/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedKTCLink/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getKTCLinkById" eType="//KTCLink">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/getKTCLinkById">
        <ownedActivityEdge source="//Topology/getKTCLinkById/@activity/@ownedActivityNode.0" target="//Topology/getKTCLinkById/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/getKTCLinkById/@activity/@ownedActivityNode.1" target="//Topology/getKTCLinkById/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/getKTCLinkById/@activity/@ownedActivityNode.1" target="//Topology/getKTCLinkById/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/getKTCLinkById/@activity/@ownedActivityNode.3" target="//Topology/getKTCLinkById/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/getKTCLinkById/@activity/@ownedActivityNode.3" target="//Topology/getKTCLinkById/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="GetEdge" comment="GetEdge" outgoing="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.1 //Topology/getKTCLinkById/@activity/@ownedActivityEdge.2" incoming="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.0">
          <storyPattern comment="GetEdge">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
            <objectVariable name="edge" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression">
                <ownedParameterBindings>
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/getKTCLinkById/id"/>
                  <parameter href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/getEdgeById/id"/>
                </ownedParameterBindings>
                <callee href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/getEdgeById"/>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCLinkById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CastToLink&#xD;&#xA;" comment="CastToLink__" outgoing="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.3 //Topology/getKTCLinkById/@activity/@ownedActivityEdge.4" incoming="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CastToLink__">
            <objectVariable type="//KTCLink" name="link" bindingState="BOUND">
              <bindingExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCLinkById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCLinkById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCLinkById/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getKTCNodeById" eType="//KTCNode">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/getKTCNodeById">
        <ownedActivityEdge source="//Topology/getKTCNodeById/@activity/@ownedActivityNode.0" target="//Topology/getKTCNodeById/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/getKTCNodeById/@activity/@ownedActivityNode.1" target="//Topology/getKTCNodeById/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/getKTCNodeById/@activity/@ownedActivityNode.1" target="//Topology/getKTCNodeById/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/getKTCNodeById/@activity/@ownedActivityNode.2" target="//Topology/getKTCNodeById/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/getKTCNodeById/@activity/@ownedActivityNode.2" target="//Topology/getKTCNodeById/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="GetNode" comment="GetNode" outgoing="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.1 //Topology/getKTCNodeById/@activity/@ownedActivityEdge.2" incoming="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.0">
          <storyPattern comment="GetNode">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
            <objectVariable name="node" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression">
                <ownedParameterBindings>
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/getKTCNodeById/id"/>
                  <parameter href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/getNodeById/id"/>
                </ownedParameterBindings>
                <callee href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/getNodeById"/>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCNodeById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CastToKTCNode" comment="CastToKTCNode" outgoing="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.3 //Topology/getKTCNodeById/@activity/@ownedActivityEdge.4" incoming="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CastToKTCNode">
            <objectVariable type="//KTCNode" name="ktcNode" bindingState="BOUND">
              <bindingExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCNodeById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getKTCNodeById/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getKTCNodeById/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="MaxpowerTopologyControlAlgorithm" eSuperTypes="//AbstractTopologyControlAlgorithm">
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnNode">
      <eParameters name="node" eType="//KTCNode"/>
      <activity owningOperation="//MaxpowerTopologyControlAlgorithm/runOnNode">
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.0" target="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1" target="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivateAllOutgoingLinks" comment="ActivateAllOutgoingLinks" outgoing="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.1" incoming="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.0" forEach="true">
          <storyPattern comment="ActivateAllOutgoingLinks">
            <objectVariable type="//KTCNode" name="node" outgoingLink="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link" incomingLink="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//MaxpowerTopologyControlAlgorithm/runOnNode/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnTopology">
      <eParameters name="topology" eType="//Topology"/>
      <activity owningOperation="//MaxpowerTopologyControlAlgorithm/runOnTopology">
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.0" target="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1" target="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivateAllLinks" comment="ActivateAllLinks" outgoing="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.1" incoming="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.0" forEach="true">
          <storyPattern comment="ActivateAllLinks">
            <objectVariable type="//Topology" name="topology" outgoingLink="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link" incomingLink="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="edges" target="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph/edges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//MaxpowerTopologyControlAlgorithm/runOnTopology/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="initializeConstraints">
      <activity owningOperation="//MaxpowerTopologyControlAlgorithm/initializeConstraints">
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.0" target="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1" target="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1" target="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasAlreadyConstraints?" comment="HasAlreadyConstraints_" outgoing="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.1 //MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.2" incoming="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasAlreadyConstraints_">
            <objectVariable type="//MaxpowerTopologyControlAlgorithm" name="this" incomingLink="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//NoInactiveLinksConstraint" name="existingConstraint" outgoingLink="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingSemantics="NEGATIVE"/>
            <objectVariable type="//NoInactiveLinksConstraint" name="constraint" outgoingLink="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="CREATE"/>
            <linkVariable name="algorithm" target="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//TopologyControlGraphConstraint/algorithm" bindingOperator="CREATE"/>
            <linkVariable name="algorithm" target="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//TopologyControlGraphConstraint/algorithm"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//MaxpowerTopologyControlAlgorithm/initializeConstraints/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="LocalConstraint" eSuperTypes="//TopologyControlGraphConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnGraph">
      <eParameters name="graph">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph"/>
      </eParameters>
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//LocalConstraint/checkOnGraph">
        <ownedActivityEdge source="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.0" target="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1" target="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1" target="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.3" target="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverNodes" comment="IterateOverNodes" outgoing="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.1 //LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.2" incoming="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.0 //LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.3" forEach="true">
          <storyPattern comment="IterateOverNodes">
            <objectVariable type="//LocalConstraint" name="this" bindingState="BOUND"/>
            <objectVariable name="graph" incomingLink="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Graph"/>
            </objectVariable>
            <objectVariable name="node" outgoingLink="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <linkVariable name="graph" target="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/graph"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InvokePerNodeMethod" outgoing="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.3" incoming="//LocalConstraint/checkOnGraph/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression">
            <ownedParameterBindings>
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
              <parameter href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/GraphConstraint/checkOnNode/node"/>
            </ownedParameterBindings>
            <ownedParameterBindings>
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//LocalConstraint/checkOnGraph/report"/>
              <parameter href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/GraphConstraint/checkOnNode/violationReport"/>
            </ownedParameterBindings>
            <callee href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/GraphConstraint/checkOnNode"/>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//LocalConstraint/checkOnGraph/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PlainKTCInactiveLinkConstraint" eSuperTypes="//KTCConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
      <eParameters name="node">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
      </eParameters>
      <eParameters name="violationReport">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//PlainKTCInactiveLinkConstraint/checkOnNode">
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.6" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverInactiveOutgoingLinks" comment="IterateOverInactiveOutgoingLinks" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.7" forEach="true">
          <storyPattern comment="IterateOverInactiveOutgoingLinks">
            <objectVariable name="node" outgoingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="node2" outgoingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsInAppropriateTriangle" comment="IsInAppropriateTriangle" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsInAppropriateTriangle">
            <objectVariable type="//DirectedTriangle" name="triangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportViolation" comment="ReportViolation" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4">
          <storyPattern comment="ReportViolation">
            <objectVariable name="violationReport" outgoingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
            </objectVariable>
            <objectVariable name="violation" incomingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" outgoingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//PlainKTCInactiveLinkConstraint" name="this" incomingLink="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="violatedConstraint" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/violatedConstraint"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="violations" target="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport/violations"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDummies" comment="CreateDummies" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateDummies">
            <objectVariable type="//PlainKTC" name="dummyAlgorithm" bindingOperator="CREATE">
              <attributeAssignment attribute="//AbstractKTC/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" attribute="//KTCConstraint/k"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//PlainKTCInactiveLinkConstraint" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="JoinNode" comment="JoinNode" outgoing="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.7" incoming="//PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //PlainKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5">
          <storyPattern comment="JoinNode"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PlainKTCActiveLinkConstraint" eSuperTypes="//KTCConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
      <eParameters name="node">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
      </eParameters>
      <eParameters name="violationReport">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//PlainKTCActiveLinkConstraint/checkOnNode">
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverInactiveOutgoingLinks" comment="IterateOverInactiveOutgoingLinks" outgoing="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="IterateOverInactiveOutgoingLinks">
            <objectVariable name="node" outgoingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="node2" outgoingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsInProblematicTriangle" comment="IsInProblematicTriangle" outgoing="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4" incoming="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsInProblematicTriangle">
            <objectVariable type="//DirectedTriangle" name="triangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportViolation" comment="ReportViolation" outgoing="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5" incoming="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4">
          <storyPattern comment="ReportViolation">
            <objectVariable name="violationReport" outgoingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
            </objectVariable>
            <objectVariable name="violation" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" outgoingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.4" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.5" bindingState="BOUND"/>
            <objectVariable type="//PlainKTCActiveLinkConstraint" name="this" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.6"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.4 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.7"/>
            <objectVariable type="//DirectedTriangle" name="triangle" outgoingLink="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.5 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.6 //PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.7" bindingState="BOUND"/>
            <linkVariable name="violatedConstraint" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/violatedConstraint"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="violations" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport/violations"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.5" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="directLink" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/directLink"/>
            <linkVariable name="indirectionLink1" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/indirectionLink1"/>
            <linkVariable name="indirectionLink2" target="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.5" source="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/indirectionLink2"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThisAndCreateDummies" comment="BindThisAndCreateDummies" outgoing="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" incoming="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThisAndCreateDummies">
            <objectVariable type="//PlainKTCActiveLinkConstraint" name="this" bindingState="BOUND"/>
            <objectVariable type="//PlainKTC" name="dummyAlgo" bindingOperator="CREATE">
              <attributeAssignment attribute="//AbstractKTC/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PlainKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" attribute="//KTCConstraint/k"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DirectedTriangle">
    <eStructuralFeatures xsi:type="ecore:EReference" name="directLink" lowerBound="1" eType="//KTCLink"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="indirectionLink1" lowerBound="1" eType="//KTCLink"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="indirectionLink2" lowerBound="1" eType="//KTCLink"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RelativeNeighborhoodGraphAlgorithm" eSuperTypes="//DirectedTriangleTopologyControlAlgorithm">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkPredicate">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="link1" eType="//KTCLink"/>
      <eParameters name="link2" eType="//KTCLink"/>
      <eParameters name="link3" eType="//KTCLink"/>
      <activity owningOperation="//RelativeNeighborhoodGraphAlgorithm/checkPredicate">
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.0" target="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1" target="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1" target="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckPredicate" comment="CheckPredicate" outgoing="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.1 //RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.2" incoming="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckPredicate">
            <objectVariable type="//KTCLink" name="link1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link2" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link3" bindingState="BOUND"/>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0" objectVariable="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="link1_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link2_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="link3_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RelativeNeighborhoodGraphAlgorithm/checkPredicate/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="findMatch" eType="//DirectedTriangle">
      <eParameters name="directLink" eType="//KTCLink"/>
      <eParameters name="excludedLink" eType="//KTCLink"/>
      <activity owningOperation="//RelativeNeighborhoodGraphAlgorithm/findMatch">
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.0" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IdentifyDirectedTriangle" comment="IdentifyDirectedTriangle" outgoing="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.1 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.2" incoming="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IdentifyDirectedTriangle">
            <objectVariable type="//KTCLink" name="excludedLink" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node2" outgoingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4"/>
            <objectVariable type="//KTCLink" name="directLink" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCNode" name="node1" outgoingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//KTCNode" name="node3" outgoingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="UNEQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//RelativeNeighborhoodGraphAlgorithm" name="this" bindingState="BOUND"/>
            <linkVariable name="incomingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="outgoingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0" objectVariable="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.1" objectVariable="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.6">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <constraints xsi:type="AttributeConstraints:CspConstraint" parameters="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.0 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" name=">"/>
            <constraints xsi:type="AttributeConstraints:AttributeLookupConstraint" parameter="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@variables.2" objectVariable="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/weight"/>
            </constraints>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.1" name="directLink_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.0" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.2" name="link13_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
            <variables xsi:type="AttributeConstraints:PrimitiveVariable" cspConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.3" attributeValueConstraints="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.1/@storyPattern/@constraints.4" name="link32_weight">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
            </variables>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDirectedTriangle" comment="CreateDirectedTriangle" outgoing="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.3" incoming="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateDirectedTriangle">
            <objectVariable type="//DirectedTriangle" name="directedTriangle" outgoingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1 //RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" bindingOperator="CREATE"/>
            <objectVariable type="//KTCLink" name="directLink" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" bindingState="BOUND"/>
            <linkVariable name="directLink" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//DirectedTriangle/directLink" bindingOperator="CREATE"/>
            <linkVariable name="indirectionLink1" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//DirectedTriangle/indirectionLink1" bindingOperator="CREATE"/>
            <linkVariable name="indirectionLink2" target="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" source="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//DirectedTriangle/indirectionLink2" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//RelativeNeighborhoodGraphAlgorithm/findMatch/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="initializeConstraints"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="AbstractTopologyControlAlgorithm" abstract="true">
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnNode">
      <eParameters name="node" eType="//KTCNode"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="runOnTopology">
      <eParameters name="topology" eType="//Topology"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="initializeConstraints"/>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeEnergyLevelModification">
      <eParameters name="node" eType="//KTCNode"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode4" comment="ActivityNode4" outgoing="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode4"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleNodeEnergyLevelModification/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeHopCountModification">
      <eParameters name="node" eType="//KTCNode"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode5" comment="ActivityNode5" outgoing="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode5"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleNodeHopCountModification/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodePositionModification">
      <eParameters name="node" eType="//KTCNode"/>
      <eParameters name="oldLongitude">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <eParameters name="oldLatitude">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleNodePositionModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode6" comment="ActivityNode6" outgoing="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode6"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleNodePositionModification/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkWeightModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkWeightModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.3" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.3" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.4" target="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckIfIncremental" comment="CheckIfIncremental" outgoing="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.2" incoming="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckIfIncremental">
            <objectVariable type="//AbstractTopologyControlAlgorithm" name="this" bindingState="BOUND">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="TopologyControlOperationMode.INCREMENTAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractTopologyControlAlgorithm/operationMode"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.3 //AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.3 //AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.4" incoming="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.2">
          <storyPattern comment="BindThis">
            <objectVariable type="//WeightBasedAlgorithm" name="dummy" bindingState="BOUND">
              <bindingExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InvokeHandler" outgoing="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.5" incoming="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//AbstractTopologyControlAlgorithm/internalHandleLinkWeightModification">
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/internalHandleLinkWeightModification/link">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/link"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/internalHandleLinkWeightModification/oldValue">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/oldValue"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//AbstractTopologyControlAlgorithm/handleLinkWeightModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkAngleModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkAngleModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode8" comment="ActivityNode8" outgoing="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode8"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkAngleModification/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkExpectedLifetimeModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.3" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.3" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.4" target="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckIfIncremental" comment="CheckIfIncremental" outgoing="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.2" incoming="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckIfIncremental">
            <objectVariable type="//AbstractTopologyControlAlgorithm" name="this" bindingState="BOUND">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="TopologyControlOperationMode.INCREMENTAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractTopologyControlAlgorithm/operationMode"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.3 //AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.3 //AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.4" incoming="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.2">
          <storyPattern comment="BindThis">
            <objectVariable type="//ExpectedLifetimeBasedAlgorithm" name="dummy" bindingState="BOUND">
              <bindingExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InvokeHandler" outgoing="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.5" incoming="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//AbstractTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification">
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/link">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/link"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/internalHandleLinkExpectedLifetimeModification/oldValue">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/oldValue"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//AbstractTopologyControlAlgorithm/handleLinkExpectedLifetimeModification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkAddition">
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkAddition">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode11" comment="ActivityNode11" outgoing="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode11"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkAddition/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkDeletion">
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkDeletion">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode12" comment="ActivityNode12" outgoing="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode12"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkDeletion/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeAddition">
      <eParameters name="node" eType="//KTCNode"/>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleNodeAddition">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode13" comment="ActivityNode13" outgoing="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode13"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleNodeAddition/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleNodeDeletion">
      <eParameters name="node" eType="//KTCNode"/>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleNodeDeletion">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode14" comment="ActivityNode14" outgoing="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.1" incoming="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.0">
          <storyPattern comment="ActivityNode14"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleNodeDeletion/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="handleLinkUnclassification">
      <eParameters name="link" eType="//KTCLink"/>
      <activity owningOperation="//AbstractTopologyControlAlgorithm/handleLinkUnclassification">
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.0" target="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1" target="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.3" target="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CheckIfIncremental" comment="CheckIfIncremental" outgoing="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.2" incoming="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CheckIfIncremental">
            <objectVariable type="//AbstractTopologyControlAlgorithm" name="this" bindingState="BOUND">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="TopologyControlOperationMode.INCREMENTAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" attribute="//AbstractTopologyControlAlgorithm/operationMode"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.1 //AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="DelegateToInternalHandler" outgoing="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.3" incoming="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//AbstractTopologyControlAlgorithm/internalHandleLinkUnclassification">
            <ownedParameterBindings parameter="//AbstractTopologyControlAlgorithm/internalHandleLinkUnclassification/link">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/link"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//AbstractTopologyControlAlgorithm/handleLinkUnclassification/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="internalHandleLinkWeightModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="internalHandleLinkExpectedLifetimeModification">
      <eParameters name="link" eType="//KTCLink"/>
      <eParameters name="oldValue">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eParameters>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="internalHandleLinkUnclassification">
      <eParameters name="link" eType="//KTCLink"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="algorithmSpecificConstraints" upperBound="-1" eType="//TopologyControlGraphConstraint" containment="true" eOpposite="//TopologyControlGraphConstraint/algorithm"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="operationMode" ordered="false" lowerBound="1" eType="//TopologyControlOperationMode" defaultValueLiteral="0"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="XTCAlgorithm"/>
  <eClassifiers xsi:type="ecore:EClass" name="GabrielGraphAlgorithm"/>
  <eClassifiers xsi:type="ecore:EClass" name="YaoGraphAlgorithm">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="coneCount" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TopologyControlGraphConstraint">
    <eSuperTypes href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/GraphConstraint"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="algorithm" eType="//AbstractTopologyControlAlgorithm" eOpposite="//AbstractTopologyControlAlgorithm/algorithmSpecificConstraints"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="TopologyControlOperationMode">
    <eLiterals name="INCREMENTAL" value="1" literal="INCREMENTAL"/>
    <eLiterals name="BATCH" literal="BATCH"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="LocalKTC"/>
  <eClassifiers xsi:type="ecore:EClass" name="LocalLocalKTC"/>
  <eClassifiers xsi:type="ecore:EClass" name="GlobalKTC"/>
  <eClassifiers xsi:type="ecore:EClass" name="KTCConstraint" eSuperTypes="//LocalConstraint">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="k" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="EnergyAwareKTCActiveLinkConstraint" eSuperTypes="//KTCConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
      <eParameters name="node">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
      </eParameters>
      <eParameters name="violationReport">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//EnergyAwareKTCActiveLinkConstraint/checkOnNode">
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverInactiveOutgoingLinks" comment="IterateOverInactiveOutgoingLinks" outgoing="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="IterateOverInactiveOutgoingLinks">
            <objectVariable name="node" outgoingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.ACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="node2" outgoingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsInProblematicTriangle" comment="IsInProblematicTriangle" outgoing="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4" incoming="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsInProblematicTriangle">
            <objectVariable type="//DirectedTriangle" name="triangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportViolation" comment="ReportViolation" outgoing="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5" incoming="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4">
          <storyPattern comment="ReportViolation">
            <objectVariable name="violationReport" outgoingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
            </objectVariable>
            <objectVariable name="violation" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" outgoingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.4" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.5" bindingState="BOUND"/>
            <objectVariable type="//EnergyAwareKTCActiveLinkConstraint" name="this" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="link13" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.6"/>
            <objectVariable type="//KTCLink" name="link32" incomingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.4 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.7"/>
            <objectVariable type="//DirectedTriangle" name="triangle" outgoingLink="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.5 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.6 //EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.7" bindingState="BOUND"/>
            <linkVariable name="violatedConstraint" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/violatedConstraint"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="violations" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport/violations"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.5" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="directLink" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/directLink"/>
            <linkVariable name="indirectionLink1" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/indirectionLink1"/>
            <linkVariable name="indirectionLink2" target="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.5" source="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.6" type="//DirectedTriangle/indirectionLink2"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThisAndCreateDummy" comment="BindThisAndCreateDummy" outgoing="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" incoming="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BindThisAndCreateDummy">
            <objectVariable type="//EnergyAwareKTCActiveLinkConstraint" name="this" bindingState="BOUND"/>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
            <objectVariable type="//EnergyAwareKTC" name="dummyAlgorithm" bindingOperator="CREATE">
              <attributeAssignment attribute="//AbstractKTC/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTCActiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" attribute="//KTCConstraint/k"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="EnergyAwareKTCInactiveLinkConstraint" eSuperTypes="//KTCConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
      <eParameters name="node">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
      </eParameters>
      <eParameters name="violationReport">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode">
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" guard="EACH_TIME"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.4" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverInactiveOutgoingLinks" comment="IterateOverInactiveOutgoingLinks" outgoing="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="IterateOverInactiveOutgoingLinks">
            <objectVariable name="node" outgoingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="node2" outgoingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//EnergyAwareKTCInactiveLinkConstraint" name="this" bindingState="BOUND"/>
            <linkVariable name="outgoingEdges" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
            <linkVariable name="incomingEdges" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/incomingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateDummyAlgo" comment="CreateDummyAlgo" outgoing="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.3" incoming="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateDummyAlgo">
            <objectVariable type="//EnergyAwareKTC" name="dummyAlgo" bindingOperator="CREATE">
              <attributeAssignment attribute="//AbstractKTC/k">
                <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" attribute="//KTCConstraint/k"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//KTCLink" name="dummyLink" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindMatchOfConclusion" comment="FindMatchOfConclusion" outgoing="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.4 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5" incoming="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.2">
          <storyPattern comment="FindMatchOfConclusion">
            <objectVariable type="//DirectedTriangle" name="triangle" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DirectedTriangleTopologyControlAlgorithm/findMatch">
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/directLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DirectedTriangleTopologyControlAlgorithm/findMatch/excludedLink">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreationViolation" comment="CreationViolation" outgoing="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.6" incoming="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityEdge.5">
          <storyPattern comment="CreationViolation">
            <objectVariable name="violationReport" outgoingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
            </objectVariable>
            <objectVariable name="violation" incomingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2" outgoingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0 //EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="link" incomingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//EnergyAwareKTCInactiveLinkConstraint" name="this" incomingLink="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="violatedConstraint" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/violatedConstraint"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
            <linkVariable name="violations" target="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//EnergyAwareKTCInactiveLinkConstraint/checkOnNode/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport/violations"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NoInactiveLinksConstraint" eSuperTypes="//LocalConstraint">
    <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
      <eParameters name="node">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
      </eParameters>
      <eParameters name="violationReport">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
      </eParameters>
      <activity owningOperation="//NoInactiveLinksConstraint/checkOnNode">
        <ownedActivityEdge source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityEdge source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverAllOutgoingInactiveLinks" comment="IterateOverAllOutgoingInactiveLinks" outgoing="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.1 //NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.0 //NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.3" forEach="true">
          <storyPattern comment="IterateOverAllOutgoingInactiveLinks">
            <objectVariable name="node" outgoingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="inactiveLink" incomingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.INACTIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Edge/state"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingEdges" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//Node/outgoingEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportViolation" comment="ReportViolation" outgoing="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.3" incoming="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.1">
          <storyPattern comment="ReportViolation">
            <objectVariable name="violationReport" outgoingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport"/>
            </objectVariable>
            <objectVariable type="//NoInactiveLinksConstraint" name="this" incomingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable name="violation" incomingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" outgoingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation"/>
            </objectVariable>
            <objectVariable type="//KTCLink" name="inactiveLink" incomingLink="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" bindingState="BOUND"/>
            <linkVariable name="violatedConstraint" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/violatedConstraint"/>
            </linkVariable>
            <linkVariable name="violations" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolationReport/violations"/>
            </linkVariable>
            <linkVariable name="affectedEdges" target="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" source="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints/ConstraintViolation/affectedEdges"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NoInactiveLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="WeightBasedAlgorithm" abstract="true" interface="true"/>
  <eClassifiers xsi:type="ecore:EClass" name="ExpectedLifetimeBasedAlgorithm" abstract="true" interface="true"/>
  <eClassifiers xsi:type="ecore:EClass" name="AngleBasedAlgorithm" abstract="true" interface="true" eSuperTypes="//PositionBasedAlgorithm"/>
  <eClassifiers xsi:type="ecore:EClass" name="PositionBasedAlgorithm" abstract="true" interface="true"/>
  <eClassifiers xsi:type="ecore:EClass" name="HopCountBasedAlgorithm" abstract="true" interface="true"/>
</ecore:EPackage>
