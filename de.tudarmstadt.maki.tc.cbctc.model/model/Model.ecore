<?xml version="1.0" encoding="ASCII"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activities="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//activities" xmlns:callExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:expressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions" xmlns:patternExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions" name="model" nsURI="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore" nsPrefix="de.tudarmstadt.maki.tc.cbctc.model">
  <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
    <details key="basePackage" value="de.tudarmstadt.maki.tc.cbctc"/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="DirectedTriangle">
    <eStructuralFeatures xsi:type="ecore:EReference" name="directLink" lowerBound="1" eType="//Edge"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="indirectionLink1" lowerBound="1" eType="//Edge"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="indirectionLink2" lowerBound="1" eType="//Edge"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Edge" eSuperTypes="//TopologyElement">
    <eOperations xsi:type="activities:MoflonEOperation" name="isReverseEdgeOf">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="other" eType="//Edge"/>
      <activity owningOperation="//Edge/isReverseEdgeOf">
        <ownedActivityEdge source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.2" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ActivityNode1" comment="ActivityNode1" outgoing="//Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.0 //Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.1" incoming="//Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.2">
          <storyPattern comment="ActivityNode1">
            <objectVariable type="//Topology" name="graph" outgoingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5"/>
            <objectVariable type="//Node" name="target" incomingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" outgoingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3"/>
            <objectVariable type="//Edge" name="other" incomingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.7" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="this" incomingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.6 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4" bindingState="BOUND"/>
            <objectVariable type="//Node" name="source" incomingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.5" outgoingLink="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.6 //Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.7"/>
            <linkVariable name="edges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Topology/edges"/>
            <linkVariable name="nodes" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Topology/nodes"/>
            <linkVariable name="outgoingEdges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Node/outgoingEdges"/>
            <linkVariable name="incomingEdges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Node/incomingEdges"/>
            <linkVariable name="edges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Topology/edges"/>
            <linkVariable name="nodes" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Topology/nodes"/>
            <linkVariable name="outgoingEdges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" type="//Node/outgoingEdges"/>
            <linkVariable name="incomingEdges" target="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Edge/isReverseEdgeOf/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" type="//Node/incomingEdges"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Edge/isReverseEdgeOf/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="toString">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="graph" eType="//Topology" eOpposite="//Topology/edges"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="source" lowerBound="1" eType="//Node" eOpposite="//Node/outgoingEdges"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="target" lowerBound="1" eType="//Node" eOpposite="//Node/incomingEdges"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="reverseEdge" eType="//Edge"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="state" ordered="false" lowerBound="1" eType="//EdgeState"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="weight" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="expectedLifetime" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="angle" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="distance" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TopologyElement" abstract="true">
    <eOperations xsi:type="activities:MoflonEOperation" name="toString">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Topology">
    <eOperations xsi:type="activities:MoflonEOperation" name="getNodeCount">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getEdgeCount">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getNodeById" eType="//Node">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/getNodeById">
        <ownedActivityEdge source="//Topology/getNodeById/@activity/@ownedActivityNode.1" target="//Topology/getNodeById/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/getNodeById/@activity/@ownedActivityNode.3" target="//Topology/getNodeById/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/getNodeById/@activity/@ownedActivityNode.3" target="//Topology/getNodeById/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getNodeById/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/getNodeById/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getNodeById/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindNode" comment="FindNode" outgoing="//Topology/getNodeById/@activity/@ownedActivityEdge.1 //Topology/getNodeById/@activity/@ownedActivityEdge.2" incoming="//Topology/getNodeById/@activity/@ownedActivityEdge.0">
          <storyPattern comment="FindNode">
            <objectVariable type="//Node" name="node" incomingLink="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/getNodeById/id"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" attribute="//TopologyElement/id"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="nodes" target="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//Topology/getNodeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" type="//Topology/nodes"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getEdgeById" eType="//Edge">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/getEdgeById">
        <ownedActivityEdge source="//Topology/getEdgeById/@activity/@ownedActivityNode.1" target="//Topology/getEdgeById/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/getEdgeById/@activity/@ownedActivityNode.3" target="//Topology/getEdgeById/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/getEdgeById/@activity/@ownedActivityNode.3" target="//Topology/getEdgeById/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getEdgeById/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/getEdgeById/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/getEdgeById/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="FindNode" comment="FindNode" outgoing="//Topology/getEdgeById/@activity/@ownedActivityEdge.1 //Topology/getEdgeById/@activity/@ownedActivityEdge.2" incoming="//Topology/getEdgeById/@activity/@ownedActivityEdge.0">
          <storyPattern comment="FindNode">
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="edge" incomingLink="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/getEdgeById/id"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" attribute="//TopologyElement/id"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="edges" target="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//Topology/getEdgeById/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//Topology/edges"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addNode" eType="//Node">
      <activity owningOperation="//Topology/addNode">
        <ownedActivityEdge source="//Topology/addNode/@activity/@ownedActivityNode.0" target="//Topology/addNode/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Topology/addNode/@activity/@ownedActivityNode.1" target="//Topology/addNode/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateNode" comment="CreateNode" outgoing="//Topology/addNode/@activity/@ownedActivityEdge.0" incoming="//Topology/addNode/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateNode">
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/addNode/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Node" name="node" incomingLink="//Topology/addNode/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingOperator="CREATE"/>
            <linkVariable name="nodes" target="//Topology/addNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//Topology/addNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Topology/nodes" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addNode/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addNode" eType="//Node">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/addNode.1">
        <ownedActivityEdge source="//Topology/addNode.1/@activity/@ownedActivityNode.0" target="//Topology/addNode.1/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//Topology/addNode.1/@activity/@ownedActivityNode.1" target="//Topology/addNode.1/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/addNode.1/@activity/@ownedActivityNode.2" target="//Topology/addNode.1/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Topology/addNode.1/@activity/@ownedActivityNode.3" target="//Topology/addNode.1/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AssignId" comment="AssignId" outgoing="//Topology/addNode.1/@activity/@ownedActivityEdge.0" incoming="//Topology/addNode.1/@activity/@ownedActivityEdge.2">
          <storyPattern comment="AssignId">
            <objectVariable type="//Node" name="node" bindingState="BOUND">
              <attributeAssignment attribute="//TopologyElement/id">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addNode.1/id"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addNode.1/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateNode" comment="CreateNode" outgoing="//Topology/addNode.1/@activity/@ownedActivityEdge.2" incoming="//Topology/addNode.1/@activity/@ownedActivityEdge.3">
          <storyPattern comment="CreateNode">
            <objectVariable type="//Node" name="node" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addNode">
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addNode.1/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BindThis" comment="BindThis" outgoing="//Topology/addNode.1/@activity/@ownedActivityEdge.3" incoming="//Topology/addNode.1/@activity/@ownedActivityEdge.1">
          <storyPattern comment="BindThis">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addNode.1/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addNode.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addDirectedEdge" eType="//Edge">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="soure" eType="//Node"/>
      <eParameters name="target" eType="//Node"/>
      <activity owningOperation="//Topology/addDirectedEdge">
        <ownedActivityEdge source="//Topology/addDirectedEdge/@activity/@ownedActivityNode.1" target="//Topology/addDirectedEdge/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Topology/addDirectedEdge/@activity/@ownedActivityNode.2" target="//Topology/addDirectedEdge/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/addDirectedEdge/@activity/@ownedActivityNode.3" target="//Topology/addDirectedEdge/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addDirectedEdge/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AssignId" comment="AssignId" outgoing="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.0" incoming="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.2">
          <storyPattern comment="AssignId">
            <objectVariable type="//Edge" name="edge" bindingState="BOUND">
              <attributeAssignment attribute="//TopologyElement/id">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addDirectedEdge/id"/>
              </attributeAssignment>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateEdge" comment="CreateEdge" outgoing="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.2" incoming="//Topology/addDirectedEdge/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateEdge">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="edge" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addUndirectedEdge.1">
                <ownedParameterBindings parameter="//Topology/addUndirectedEdge.1/node1">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addDirectedEdge/soure"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addUndirectedEdge.1/node2">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addDirectedEdge/target"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addDirectedEdge/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addDirectedEdge" eType="//Edge">
      <eParameters name="source" eType="//Node"/>
      <eParameters name="target" eType="//Node"/>
      <activity owningOperation="//Topology/addDirectedEdge.1">
        <ownedActivityEdge source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.0" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addDirectedEdge.1/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateEdge" comment="CreateEdge" outgoing="//Topology/addDirectedEdge.1/@activity/@ownedActivityEdge.1" incoming="//Topology/addDirectedEdge.1/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateEdge">
            <objectVariable type="//Node" name="target" incomingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" outgoingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2 //Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="edge" incomingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4 //Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingOperator="CREATE"/>
            <objectVariable type="//Node" name="source" incomingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3" outgoingLink="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.4" bindingState="BOUND"/>
            <linkVariable name="nodes" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Topology/nodes"/>
            <linkVariable name="incomingEdges" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Node/incomingEdges" bindingOperator="CREATE"/>
            <linkVariable name="edges" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Topology/edges" bindingOperator="CREATE"/>
            <linkVariable name="nodes" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Topology/nodes"/>
            <linkVariable name="outgoingEdges" target="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" type="//Node/outgoingEdges" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addDirectedEdge.1/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addDirectedEdge.1/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addUndirectedEdge" eType="//Edge">
      <eParameters name="idForward">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="idBackward">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="node1" eType="//Node"/>
      <eParameters name="node2" eType="//Node"/>
      <activity owningOperation="//Topology/addUndirectedEdge">
        <ownedActivityEdge source="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.0" target="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.1" target="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2" target="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.3"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateEdgesWithoutIds" comment="CreateEdgesWithoutIds" outgoing="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.0" incoming="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateEdgesWithoutIds">
            <objectVariable type="//Edge" name="edge" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/addUndirectedEdge.1">
                <ownedParameterBindings parameter="//Topology/addUndirectedEdge.1/node1">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedEdge/node1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//Topology/addUndirectedEdge.1/node2">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedEdge/node2"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AssignIds" comment="AssignIds" outgoing="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.2" incoming="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.0">
          <storyPattern comment="AssignIds">
            <objectVariable type="//Edge" name="reverseEdge" incomingLink="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <attributeAssignment attribute="//TopologyElement/id">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedEdge/idBackward"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable type="//Edge" name="edge" outgoingLink="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <attributeAssignment attribute="//TopologyElement/id">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/addUndirectedEdge/idForward"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="reverseEdge" target="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Edge/reverseEdge"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addUndirectedEdge/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedEdge/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="addUndirectedEdge" eType="//Edge">
      <eParameters name="node1" eType="//Node"/>
      <eParameters name="node2" eType="//Node"/>
      <activity owningOperation="//Topology/addUndirectedEdge.1">
        <ownedActivityEdge source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.1" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/addUndirectedEdge.1/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/addUndirectedEdge.1/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateEdges" comment="CreateEdges" outgoing="//Topology/addUndirectedEdge.1/@activity/@ownedActivityEdge.1" incoming="//Topology/addUndirectedEdge.1/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateEdges">
            <objectVariable type="//Edge" name="backwardEdge" incomingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.5 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.9 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" outgoingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingOperator="CREATE"/>
            <objectVariable type="//Node" name="node2" incomingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.3" outgoingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.7" bindingState="BOUND"/>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.3 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.4 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.6" bindingState="BOUND"/>
            <objectVariable type="//Node" name="node1" incomingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.4" outgoingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.5 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.8" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="forwardEdge" incomingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.6 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.7 //Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.8" outgoingLink="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.9" bindingOperator="CREATE"/>
            <linkVariable name="reverseEdge" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//Edge/reverseEdge" bindingOperator="CREATE"/>
            <linkVariable name="edges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//Topology/edges" bindingOperator="CREATE"/>
            <linkVariable name="outgoingEdges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Node/outgoingEdges" bindingOperator="CREATE"/>
            <linkVariable name="nodes" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//Topology/nodes"/>
            <linkVariable name="nodes" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//Topology/nodes"/>
            <linkVariable name="incomingEdges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" type="//Node/incomingEdges" bindingOperator="CREATE"/>
            <linkVariable name="edges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//Topology/edges" bindingOperator="CREATE"/>
            <linkVariable name="incomingEdges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Node/incomingEdges" bindingOperator="CREATE"/>
            <linkVariable name="outgoingEdges" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" type="//Node/outgoingEdges" bindingOperator="CREATE"/>
            <linkVariable name="reverseEdge" target="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/addUndirectedEdge.1/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.4" type="//Edge/reverseEdge" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="removeNodeById">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/removeNodeById">
        <ownedActivityEdge source="//Topology/removeNodeById/@activity/@ownedActivityNode.0" target="//Topology/removeNodeById/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/removeNodeById/@activity/@ownedActivityNode.0" target="//Topology/removeNodeById/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/removeNodeById/@activity/@ownedActivityNode.1" target="//Topology/removeNodeById/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/removeNodeById/@activity/@ownedActivityNode.2" target="//Topology/removeNodeById/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="GetAndRemoveNode" comment="GetAndRemoveNode" outgoing="//Topology/removeNodeById/@activity/@ownedActivityEdge.0 //Topology/removeNodeById/@activity/@ownedActivityEdge.1" incoming="//Topology/removeNodeById/@activity/@ownedActivityEdge.3">
          <storyPattern comment="GetAndRemoveNode">
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
            <objectVariable type="//Node" name="node" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/getNodeById">
                <ownedParameterBindings parameter="//Topology/getNodeById/id">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/removeNodeById/id"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeNodeById/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveNode" comment="RemoveNode" outgoing="//Topology/removeNodeById/@activity/@ownedActivityEdge.2" incoming="//Topology/removeNodeById/@activity/@ownedActivityEdge.0">
          <storyPattern comment="RemoveNode">
            <objectVariable type="//Node" name="node" incomingLink="//Topology/removeNodeById/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="DESTROY" bindingState="BOUND"/>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/removeNodeById/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="nodes" target="//Topology/removeNodeById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/removeNodeById/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Topology/nodes" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/removeNodeById/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeNodeById/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeNodeById/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="removeEdgeById">
      <eParameters name="id">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//Topology/removeEdgeById">
        <ownedActivityEdge source="//Topology/removeEdgeById/@activity/@ownedActivityNode.1" target="//Topology/removeEdgeById/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Topology/removeEdgeById/@activity/@ownedActivityNode.2" target="//Topology/removeEdgeById/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/removeEdgeById/@activity/@ownedActivityNode.2" target="//Topology/removeEdgeById/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/removeEdgeById/@activity/@ownedActivityNode.3" target="//Topology/removeEdgeById/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeEdgeById/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="DeleteEdge" outgoing="//Topology/removeEdgeById/@activity/@ownedActivityEdge.0" incoming="//Topology/removeEdgeById/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/removeEdge">
            <ownedParameterBindings parameter="//Topology/removeEdge/edge">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeEdgeById/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeEdgeById/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="GetEdge" comment="GetEdge" outgoing="//Topology/removeEdgeById/@activity/@ownedActivityEdge.1 //Topology/removeEdgeById/@activity/@ownedActivityEdge.2" incoming="//Topology/removeEdgeById/@activity/@ownedActivityEdge.3">
          <storyPattern comment="GetEdge">
            <objectVariable type="//Edge" name="edge" bindingState="BOUND">
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/getEdgeById">
                <ownedParameterBindings parameter="//Topology/getEdgeById/id">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Topology/removeEdgeById/id"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeEdgeById/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable type="//Topology" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/removeEdgeById/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeEdgeById/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="removeEdge">
      <eParameters name="edge" eType="//Edge"/>
      <activity owningOperation="//Topology/removeEdge">
        <ownedActivityEdge source="//Topology/removeEdge/@activity/@ownedActivityNode.0" target="//Topology/removeEdge/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/removeEdge/@activity/@ownedActivityNode.0" target="//Topology/removeEdge/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/removeEdge/@activity/@ownedActivityNode.2" target="//Topology/removeEdge/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveEdge" comment="RemoveEdge" outgoing="//Topology/removeEdge/@activity/@ownedActivityEdge.0 //Topology/removeEdge/@activity/@ownedActivityEdge.1" incoming="//Topology/removeEdge/@activity/@ownedActivityEdge.2">
          <storyPattern comment="RemoveEdge">
            <objectVariable type="//Node" name="target" outgoingLink="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1"/>
            <objectVariable type="//Edge" name="edge" incomingLink="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2 //Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0 //Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingOperator="DESTROY" bindingState="BOUND"/>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Node" name="source" outgoingLink="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2"/>
            <linkVariable name="edges" target="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" type="//Topology/edges" bindingOperator="DESTROY"/>
            <linkVariable name="incomingEdges" target="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Node/incomingEdges" bindingOperator="DESTROY"/>
            <linkVariable name="outgoingEdges" target="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//Topology/removeEdge/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3" type="//Node/outgoingEdges" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeEdge/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/removeEdge/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeEdge/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="removeNode">
      <eParameters name="node" eType="//Node"/>
      <activity owningOperation="//Topology/removeNode">
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.0" target="//Topology/removeNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.1" target="//Topology/removeNode/@activity/@ownedActivityNode.7" guard="EACH_TIME"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.1" target="//Topology/removeNode/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.2" target="//Topology/removeNode/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.2" target="//Topology/removeNode/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.3" target="//Topology/removeNode/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.3" target="//Topology/removeNode/@activity/@ownedActivityNode.6" guard="EACH_TIME"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.6" target="//Topology/removeNode/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//Topology/removeNode/@activity/@ownedActivityNode.7" target="//Topology/removeNode/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveOutgoingEdges" comment="RemoveOutgoingEdges" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.1 //Topology/removeNode/@activity/@ownedActivityEdge.2" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.0 //Topology/removeNode/@activity/@ownedActivityEdge.8" forEach="true">
          <storyPattern comment="RemoveOutgoingEdges">
            <objectVariable type="//Edge" name="outgoingEdge" incomingLink="//Topology/removeNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//Node" name="node" outgoingLink="//Topology/removeNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="outgoingEdges" target="//Topology/removeNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Topology/removeNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Node/outgoingEdges"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveNode" comment="RemoveNode" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.3 //Topology/removeNode/@activity/@ownedActivityEdge.4" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.5">
          <storyPattern comment="RemoveNode">
            <objectVariable type="//Node" name="node" incomingLink="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingOperator="DESTROY" bindingState="BOUND"/>
            <objectVariable type="//Topology" name="this" outgoingLink="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="nodes" target="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Topology/nodes" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="RemoveIncomingEdges" comment="RemoveIncomingEdges" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.5 //Topology/removeNode/@activity/@ownedActivityEdge.6" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.2 //Topology/removeNode/@activity/@ownedActivityEdge.7" forEach="true">
          <storyPattern comment="RemoveIncomingEdges">
            <objectVariable type="//Node" name="node" outgoingLink="//Topology/removeNode/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Edge" name="incomingEdge" incomingLink="//Topology/removeNode/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0"/>
            <linkVariable name="incomingEdges" target="//Topology/removeNode/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//Topology/removeNode/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//Node/incomingEdges"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="RemoveEdge" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.7" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.6">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/removeEdge">
            <ownedParameterBindings parameter="//Topology/removeEdge/edge">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeNode/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="RemoveOutgoingEdge" outgoing="//Topology/removeNode/@activity/@ownedActivityEdge.8" incoming="//Topology/removeNode/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Topology/removeEdge">
            <ownedParameterBindings parameter="//Topology/removeEdge/edge">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Topology/removeNode/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="toString">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nodes" upperBound="-1" eType="//Node" containment="true" eOpposite="//Node/graph"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="edges" upperBound="-1" eType="//Edge" containment="true" eOpposite="//Edge/graph"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="EdgeState">
    <eLiterals name="ACTIVE" literal="ACTIVE"/>
    <eLiterals name="INACTIVE" value="1" literal="INACTIVE"/>
    <eLiterals name="UNCLASSIFIED" value="2" literal="UNCLASSIFIED"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Node" eSuperTypes="//TopologyElement">
    <eOperations xsi:type="activities:MoflonEOperation" name="toString">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getOutdegree">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getIndegree">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getDegree">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="graph" eType="//Topology" eOpposite="//Topology/nodes"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="outgoingEdges" upperBound="-1" eType="//Edge" eOpposite="//Edge/source"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="incomingEdges" upperBound="-1" eType="//Edge" eOpposite="//Edge/target"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="x" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="y" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="batteryCapacity" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="energyLevel" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="hopCount" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eSubpackages name="constraints" nsURI="platform:/plugin/de.tudarmstadt.maki.tc.cbctc.model/model/Model.ecore#//constraints" nsPrefix="constraints">
    <eClassifiers xsi:type="ecore:EClass" name="ConstraintViolationReport">
      <eStructuralFeatures xsi:type="ecore:EReference" name="violations" upperBound="-1" eType="//constraints/ConstraintViolation" containment="true" eOpposite="//constraints/ConstraintViolation/report"/>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="EdgeStateBasedConnectivityConstraint" eSuperTypes="//constraints/GraphConstraint">
      <eOperations xsi:type="activities:MoflonEOperation" name="checkOnTopology">
        <eParameters name="graph" eType="//Topology"/>
        <eParameters name="report" eType="//constraints/ConstraintViolationReport"/>
      </eOperations>
      <eStructuralFeatures xsi:type="ecore:EAttribute" name="states" ordered="false" lowerBound="1" upperBound="-1" eType="//EdgeState"/>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="NoUnclassifiedLinksConstraint" eSuperTypes="//constraints/GraphConstraint">
      <eOperations xsi:type="activities:MoflonEOperation" name="checkOnTopology">
        <eParameters name="graph" eType="//Topology"/>
        <eParameters name="report" eType="//constraints/ConstraintViolationReport"/>
        <activity owningOperation="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology">
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0" target="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0" target="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.3" guard="END"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.1" target="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.2" target="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0"/>
          <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverNodes" comment="IterateOverNodes" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.0 //constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.1" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.2 //constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.3" forEach="true">
            <storyPattern comment="IterateOverNodes">
              <objectVariable type="//Topology" name="graph" outgoingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
              <objectVariable type="//constraints/NoUnclassifiedLinksConstraint" name="this" bindingState="BOUND"/>
              <objectVariable type="//Node" name="node" incomingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
              <linkVariable name="nodes" target="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Topology/nodes"/>
            </storyPattern>
          </ownedActivityNode>
          <ownedActivityNode xsi:type="activities:StartNode" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.2"/>
          <ownedActivityNode xsi:type="activities:StatementNode" name="CheckOnNode" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.3" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.0">
            <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//constraints/GraphConstraint/checkOnNode">
              <ownedParameterBindings parameter="//constraints/GraphConstraint/checkOnNode/node">
                <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2"/>
              </ownedParameterBindings>
              <ownedParameterBindings parameter="//constraints/GraphConstraint/checkOnNode/violationReport">
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/report"/>
              </ownedParameterBindings>
              <target xsi:type="patternExpressions:ObjectVariableExpression" object="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
            </statementExpression>
          </ownedActivityNode>
          <ownedActivityNode xsi:type="activities:StopNode" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnTopology/@activity/@ownedActivityEdge.1"/>
        </activity>
      </eOperations>
      <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
        <eParameters name="node" eType="//Node"/>
        <eParameters name="violationReport" eType="//constraints/ConstraintViolationReport"/>
        <activity owningOperation="//constraints/NoUnclassifiedLinksConstraint/checkOnNode">
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.3" guard="END"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1" guard="EACH_TIME"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0"/>
          <ownedActivityEdge source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.2" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0"/>
          <ownedActivityNode xsi:type="activities:StoryNode" name="IterateOverOutgoingLinks" comment="IterateOverOutgoingLinks" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.0 //constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.1" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.2 //constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.3" forEach="true">
            <storyPattern comment="IterateOverOutgoingLinks">
              <objectVariable type="//Edge" name="edge" incomingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
                <constraint>
                  <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                    <rightExpression xsi:type="expressions:LiteralExpression" value="EdgeState.UNCLASSIFIED"/>
                    <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" attribute="//Edge/state"/>
                  </constraintExpression>
                </constraint>
              </objectVariable>
              <objectVariable type="//Node" name="node" outgoingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
              <linkVariable name="outgoingEdges" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" type="//Node/outgoingEdges"/>
            </storyPattern>
          </ownedActivityNode>
          <ownedActivityNode xsi:type="activities:StoryNode" name="ReportViolation" comment="ReportViolation" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.2" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.1">
            <storyPattern comment="ReportViolation">
              <objectVariable type="//constraints/NoUnclassifiedLinksConstraint" name="this" incomingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingState="BOUND"/>
              <objectVariable type="//constraints/ConstraintViolationReport" name="violationReport" outgoingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
              <objectVariable type="//constraints/ConstraintViolation" name="violation" incomingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" outgoingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingOperator="CREATE"/>
              <objectVariable type="//Edge" name="edge" incomingLink="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
              <linkVariable name="affectedEdges" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//constraints/ConstraintViolation/affectedEdges" bindingOperator="CREATE"/>
              <linkVariable name="violations" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//constraints/ConstraintViolationReport/violations" bindingOperator="CREATE"/>
              <linkVariable name="violatedConstraint" target="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//constraints/ConstraintViolation/violatedConstraint" bindingOperator="CREATE"/>
            </storyPattern>
          </ownedActivityNode>
          <ownedActivityNode xsi:type="activities:StartNode" outgoing="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.3"/>
          <ownedActivityNode xsi:type="activities:StopNode" incoming="//constraints/NoUnclassifiedLinksConstraint/checkOnNode/@activity/@ownedActivityEdge.0"/>
        </activity>
      </eOperations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="ConstraintViolation">
      <eStructuralFeatures xsi:type="ecore:EReference" name="report" eType="//constraints/ConstraintViolationReport" eOpposite="//constraints/ConstraintViolationReport/violations"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="violatedConstraint" eType="//constraints/GraphConstraint"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="affectedGraphs" upperBound="-1" eType="//Topology"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="affectedNodes" upperBound="-1" eType="//Node"/>
      <eStructuralFeatures xsi:type="ecore:EReference" name="affectedEdges" upperBound="-1" eType="//Edge"/>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="GraphConstraint" abstract="true" interface="true">
      <eOperations xsi:type="activities:MoflonEOperation" name="checkOnTopology">
        <eParameters name="topology" eType="//Topology"/>
        <eParameters name="report" eType="//constraints/ConstraintViolationReport"/>
      </eOperations>
      <eOperations xsi:type="activities:MoflonEOperation" name="checkOnNode">
        <eParameters name="node" eType="//Node"/>
        <eParameters name="violationReport" eType="//constraints/ConstraintViolationReport"/>
      </eOperations>
    </eClassifiers>
  </eSubpackages>
</ecore:EPackage>
